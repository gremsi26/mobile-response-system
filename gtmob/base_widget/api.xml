<?xml version="1.0"?>
<api>
        <description>
                <![CDATA[This is an API that handles the storage of and access to sessions, questions, and responses.]]>
        </description>


	<command id='sessions' security='public'>
		<index>
			<description><![CDATA[This action gets all the sessions and their URIs.]]></description>
			<action file="action.php"><![CDATA[
				echo getSessions($_GET['creatorname']);
			]]></action>
		</index>	

		<put>
			<description><![CDATA[Adds a new session.]]></description>
			<action file="action.php"><![CDATA[
				echo putSession($_POST['name']);
			]]></action>
		</put>

		<get>
			<description><![CDATA[Get all session metadata and questions currently contained for the session, or all the session IDs owned by the user.]]></description>
			<action file="action.php"><![CDATA[
				if(isset($_REST['sessions']))
					echo getSession($_REST['sessions']);
				else if(isset($_GET['creatorname']))
					echo getSessions($_GET['creatorname']);
			]]></action>
		</get>

		<post>
			<description><![CDATA[Updates a session with new information.]]></description>
			<action file="action.php"><![CDATA[
				echo postSession($_POST['name'],$_POST['isOpen'],$_POST['questions']);
			]]></action>
		</post>

		<delete>
			<description><![CDATA[Deletes a session by ID.]]></description>
			<action file="action.php"><![CDATA[
				echo deleteSession($_REST['sessions']);
			]]></action>
		</delete>
	</command>


	<command id='questions' security='public'>	
	        <get>
			<description><![CDATA[Get the data for a question as well as all the reponses for that question]]></description>
			<action file="action.php"><![CDATA[
				echo getQuestion($_REST['questions']);
			]]></action>
		</get>




	</command>

	<command id='reponses' security='public'>
		<put>
			<description><![CDATA[Adds a response from a user for a particular question]]></description>
			<action file="action.php"><![CDATA[
				echo putResponse($_POST('userid'),$_POST('questionid'),$_POST('answer'));
			]]></action>
		</put>
	</command>

	<command id='results' security='protected'>
		<get>
			<description><![CDATA[Returns the results for the provided question id.]]></description>
			<action file="action.php"><![CDATA[
				echo getResults($_REST['results']);
			]]></action>
		</get>
	</command>

</api>